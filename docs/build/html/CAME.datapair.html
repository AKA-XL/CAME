

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>CAME.datapair package &mdash; CAME  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CAME.model package" href="CAME.model.html" />
    <link rel="prev" title="CAME package" href="CAME.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> CAME
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="CAME.html">CAME package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="CAME.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">CAME.datapair package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-CAME.datapair.aligned">CAME.datapair.aligned module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-CAME.datapair.unaligned">CAME.datapair.unaligned module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-CAME.datapair">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="CAME.model.html">CAME.model package</a></li>
<li class="toctree-l3"><a class="reference internal" href="CAME.utils.html">CAME.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="CAME.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="CAME.html#module-CAME.PARAMETERS">CAME.PARAMETERS module</a></li>
<li class="toctree-l2"><a class="reference internal" href="CAME.html#module-CAME.pipeline">CAME.pipeline module</a></li>
<li class="toctree-l2"><a class="reference internal" href="CAME.html#module-CAME.pipeline_supervised">CAME.pipeline_supervised module</a></li>
<li class="toctree-l2"><a class="reference internal" href="CAME.html#module-CAME">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CAME</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="CAME.html">CAME package</a> &raquo;</li>
        
      <li>CAME.datapair package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/CAME.datapair.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="came-datapair-package">
<h1>CAME.datapair package<a class="headerlink" href="#came-datapair-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-CAME.datapair.aligned">
<span id="came-datapair-aligned-module"></span><h2>CAME.datapair.aligned module<a class="headerlink" href="#module-CAME.datapair.aligned" title="Permalink to this headline">¶</a></h2>
<p>Created on Tue Sep 15 10:22:55 2020</p>
<p>&#64;author: Xingyan Liu</p>
<dl class="py class">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">CAME.datapair.aligned.</span></span><span class="sig-name descname"><span class="pre">AlignedDataPair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ov_adjs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oo_adjs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames_feat</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames_node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_dfs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_dfs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">('reference',</span> <span class="pre">'query')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{'o':</span> <span class="pre">'cell',</span> <span class="pre">'v':</span> <span class="pre">'gene'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{'oo':</span> <span class="pre">'similar_to',</span> <span class="pre">'ov':</span> <span class="pre">'express',</span> <span class="pre">'vo':</span> <span class="pre">'expressed_by'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_graph</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>(pair of dataset2 of the same species)</p>
<dl class="simple">
<dt>features: a list or tuple of 2 feature matrices.</dt><dd><p>common / aligned feratures, as node-features (for observations).
shape: (n_obs1, n_features) and (n_obs2, n_features)</p>
</dd>
<dt>ov_adjs: a list or tuple of 2 (sparse) feature matrices.</dt><dd><p>unaligned features, for making <cite>ov_adj</cite>.
shape: (n_obs1, n_vnodes1) and (n_obs2, n_vnodes2)</p>
</dd>
<dt>varnames_feat: a name-lists</dt><dd><p>names of variables that will be treated as node-features for observations</p>
</dd>
<dt>varnames_node: a name-lists, or one concatenated name-list.</dt><dd><p>names of variables that will be treated as nodes.</p>
</dd>
</dl>
<p>obs_dfs: a list or tuple of 2 <a href="#id1"><span class="problematic" id="id2">`</span></a>pd.DataFrame`s</p>
<p>ntypes: dict
etypes: dict</p>
<p><a href="#id3"><span class="problematic" id="id4">**</span></a>kwds: other key words for constructiong of the HeteroGraph</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair._features">
<span class="sig-name descname"><span class="pre">_features</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair._features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair._ov_adjs">
<span class="sig-name descname"><span class="pre">_ov_adjs</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair._ov_adjs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.Nets">
<span class="sig-name descname"><span class="pre">Nets</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.Nets" title="Permalink to this definition">¶</a></dt>
<dd><p>vv_adj: var-var adjacent matrix (e.g. gene-gene adjacent matrix)
ov_adj: combined observation-by-variable adjacent matrix (e.g. cell-gene adjacent matrix)
G: dgl.Heterograph</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">n_obs,</span> <span class="pre">n_obs1,</span> <span class="pre">n_obs2</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">n_vnodes,</span> <span class="pre">n_vnodes1,</span> <span class="pre">n_vnodes2</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.ntypes">
<span class="sig-name descname"><span class="pre">ntypes</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.ntypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.etypes">
<span class="sig-name descname"><span class="pre">etypes</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.etypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.dataset_names">
<span class="sig-name descname"><span class="pre">dataset_names</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.dataset_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Example</p>
<dl class="simple">
<dt>DataPair([features1, features2],</dt><dd><p>[ov_adj1, ov_adj2],
varnames_feat = vars_feat,
varnames_node = vars_node,
obs_dfs = [obs1, obs2],
dataset_names=dataset_names,
)</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.DEFAULT_ETYPES">
<span class="sig-name descname"><span class="pre">DEFAULT_ETYPES</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'oo':</span> <span class="pre">'similar_to',</span> <span class="pre">'ov':</span> <span class="pre">'express',</span> <span class="pre">'vo':</span> <span class="pre">'expressed_by'}</span></em><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.DEFAULT_ETYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.DEFAULT_NTYPES">
<span class="sig-name descname"><span class="pre">DEFAULT_NTYPES</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'o':</span> <span class="pre">'cell',</span> <span class="pre">'v':</span> <span class="pre">'gene'}</span></em><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.DEFAULT_NTYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.KEY_DATASET">
<span class="sig-name descname"><span class="pre">KEY_DATASET</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'dataset'</span></em><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.KEY_DATASET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.KEY_OBSNAME">
<span class="sig-name descname"><span class="pre">KEY_OBSNAME</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'original_name'</span></em><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.KEY_OBSNAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.KEY_VARNAME">
<span class="sig-name descname"><span class="pre">KEY_VARNAME</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'name'</span></em><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.KEY_VARNAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.get_feature_dict">
<span class="sig-name descname"><span class="pre">get_feature_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.get_feature_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.get_obs_anno">
<span class="sig-name descname"><span class="pre">get_obs_anno</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.get_obs_anno" title="Permalink to this definition">¶</a></dt>
<dd><p>get the annotations of samples (observations)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.get_obs_dataset">
<span class="sig-name descname"><span class="pre">get_obs_dataset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.get_obs_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.get_obs_features">
<span class="sig-name descname"><span class="pre">get_obs_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-</span> <span class="pre">3,</span> <span class="pre">3.5)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.get_obs_features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.get_obs_ids">
<span class="sig-name descname"><span class="pre">get_obs_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.get_obs_ids" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>get node indices for obs-nodes (samples), choices are:</dt><dd><ol class="arabic simple">
<li><p>all the node ids</p></li>
<li><p>only the ids of the “reference” data (by <cite>which=0</cite>)</p></li>
<li><p>only the ids of the “query” data (by <cite>which=1</cite>)</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.get_obs_labels">
<span class="sig-name descname"><span class="pre">get_obs_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_use</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_unknown_force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.get_obs_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>make labels for model training</p>
<p>If <cite>categories</cite> is provided, the labels will be coded according to it,
and the names not in <cite>categories</cite> will be NA or <a href="#id5"><span class="problematic" id="id6">`</span></a>name_unknown`(‘unknown’)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.get_whole_net">
<span class="sig-name descname"><span class="pre">get_whole_net</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rebuild</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.get_whole_net" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.make_ov_adj">
<span class="sig-name descname"><span class="pre">make_ov_adj</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.make_ov_adj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.make_whole_net">
<span class="sig-name descname"><span class="pre">make_whole_net</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selfloop_o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selfloop_v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.make_whole_net" title="Permalink to this definition">¶</a></dt>
<dd><p>make the whole hetero-graph (e.g. cell-gene graph)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.obs_ids">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">obs_ids</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.obs_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.obs_ids1">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">obs_ids1</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.obs_ids1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.obs_ids2">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">obs_ids2</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.obs_ids2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.save_init">
<span class="sig-name descname"><span class="pre">save_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'datapair_init.pickle'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.save_init" title="Permalink to this definition">¶</a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adpair</span><span class="o">.</span><span class="n">save_init</span><span class="p">(</span><span class="s1">&#39;datapair_init.pickle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_dict</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;datapair_init.pickle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adpair</span> <span class="o">=</span> <span class="n">AlignedDataPair</span><span class="p">(</span><span class="o">**</span><span class="n">element_dict</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_common_obs_annos">
<span class="sig-name descname"><span class="pre">set_common_obs_annos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwannos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_common_obs_annos" title="Permalink to this definition">¶</a></dt>
<dd><p>Shared and merged annotation labels for ALL of the observations in both
datasets. (self.obs, pd.DataFrame)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_dataset_names">
<span class="sig-name descname"><span class="pre">set_dataset_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_dataset_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_etypes">
<span class="sig-name descname"><span class="pre">set_etypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">etypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_etypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_features">
<span class="sig-name descname"><span class="pre">set_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames_feat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_features" title="Permalink to this definition">¶</a></dt>
<dd><p>setting feature matrices, where features are aligned across datasets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_ntypes">
<span class="sig-name descname"><span class="pre">set_ntypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ntypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_ntypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_obs_dfs">
<span class="sig-name descname"><span class="pre">set_obs_dfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_obs_dfs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_oo_adj">
<span class="sig-name descname"><span class="pre">set_oo_adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oo_adjs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_oo_adj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_ov_adj">
<span class="sig-name descname"><span class="pre">set_ov_adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ov_adjs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_ov_adj" title="Permalink to this definition">¶</a></dt>
<dd><p>set observation-by-variable adjacent matrices</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.set_varnames_node">
<span class="sig-name descname"><span class="pre">set_varnames_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varnames_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.set_varnames_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.summary_graph">
<span class="sig-name descname"><span class="pre">summary_graph</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.summary_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.aligned.AlignedDataPair.vnode_ids">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">vnode_ids</span></span><a class="headerlink" href="#CAME.datapair.aligned.AlignedDataPair.vnode_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CAME.datapair.aligned.aligned_datapair_from_adatas">
<span class="sig-prename descclassname"><span class="pre">CAME.datapair.aligned.</span></span><span class="sig-name descname"><span class="pre">aligned_datapair_from_adatas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adatas</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">anndata._core.anndata.AnnData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_feat</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_as_nodes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oo_adjs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">('reference',</span> <span class="pre">'query')</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#CAME.datapair.aligned.AlignedDataPair" title="CAME.datapair.aligned.AlignedDataPair"><span class="pre">CAME.datapair.aligned.AlignedDataPair</span></a></span></span><a class="headerlink" href="#CAME.datapair.aligned.aligned_datapair_from_adatas" title="Permalink to this definition">¶</a></dt>
<dd><p>adatas: a list or tuple of 2 sc.AnnData object.</p>
<dl class="simple">
<dt>vars_feat: a sequence of variable names</dt><dd><p>a name-list of variables that will be used as (cell) node features.
for example, names of differentail expressed genes, highly variable features.</p>
</dd>
<dt>vars_as_node: a sequence of variable names, optional.</dt><dd><p>a name-list of variables that will be taken as nodes in the graph
for model training.
if None (not provided), it will be the same as <cite>vars_feat</cite></p>
</dd>
<dt>oo_adjs: a sequence of (sparse) adjacent matrices of observations.</dt><dd><p>for example, the single-cell network within each dataset.</p>
</dd>
</dl>
<p>from_raw: bool</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>datapair_from_adatas([adata1, adata2],</dt><dd><p>vars_feat,
from_raw = False,
dataset_names = [‘reference’, ‘query’])</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-CAME.datapair.unaligned">
<span id="came-datapair-unaligned-module"></span><h2>CAME.datapair.unaligned module<a class="headerlink" href="#module-CAME.datapair.unaligned" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Aug 28 23:57:02 2020</p>
<p>&#64;author: Xingyan Liu</p>
<dl class="py class">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">CAME.datapair.unaligned.</span></span><span class="sig-name descname"><span class="pre">DataPair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ov_adjs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vv_adj</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">scipy.sparse.base.spmatrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oo_adjs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames_feat</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames_node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_dfs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_dfs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">('reference',</span> <span class="pre">'query')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{'o':</span> <span class="pre">'cell',</span> <span class="pre">'v':</span> <span class="pre">'gene'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{'oo':</span> <span class="pre">'similar_to',</span> <span class="pre">'ov':</span> <span class="pre">'express',</span> <span class="pre">'vo':</span> <span class="pre">'expressed_by',</span> <span class="pre">'vv':</span> <span class="pre">'homolog_with'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_graph</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>features</strong> (<em>a list</em><em> or </em><em>tuple of 2 feature matrices.</em>) – common / aligned features, as node-features (for observations).
shape: (n_obs1, n_features) and (n_obs2, n_features)</p></li>
<li><p><strong>ov_adjs</strong> (<em>a list</em><em> or </em><em>tuple of 2</em><em> (</em><em>sparse</em><em>) </em><em>feature matrices.</em>) – unaligned features, for making <cite>ov_adj</cite>.
shape: (n_obs1, n_vnodes1) and (n_obs2, n_vnodes2)</p></li>
<li><p><strong>vv_adj</strong> (<em>scipy.sparse COO matrix.</em>) – adjacent matrix between variables from these 2 datasets.
(e.g. gene-gene adjacent matrix)
shape: (n_vnodes, n_vnodes), where <cite>n_vnodes = n_vnodes1 + n_vnodes2</cite>
is the total number of variable-nodes.</p></li>
<li><p><strong>varnames_node</strong> (<em>a list</em><em> or </em><em>tuple of 2 name-lists</em><em>, or </em><em>one concatenated name-list.</em>) – lengths should be <cite>n_vnodes1</cite> and <cite>v_nodes2</cite>.</p></li>
<li><p><strong>obs_dfs</strong> (a list or tuple of 2 <a href="#id7"><span class="problematic" id="id8">`</span></a>pd.DataFrame`s) – </p></li>
<li><p><strong>ntypes</strong> (<em>dict</em>) – </p></li>
<li><p><strong>etypes</strong> (<em>dict</em>) – </p></li>
<li><p><strong>**kwds</strong> (<em>other key words for constructiong of the HeteroGraph</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair._features">
<span class="sig-name descname"><span class="pre">_features</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair._features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair._ov_adjs">
<span class="sig-name descname"><span class="pre">_ov_adjs</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair._ov_adjs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.Nets">
<span class="sig-name descname"><span class="pre">Nets</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.Nets" title="Permalink to this definition">¶</a></dt>
<dd><p>vv_adj: var-var adjacent matrix (e.g. gene-gene adjacent matrix)
ov_adj: observation-by-variable adjacent matrix (e.g. cell-gene adjacent matrix)
G: dgl.Heterograph</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">n_obs,</span> <span class="pre">n_obs1,</span> <span class="pre">n_obs2</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">n_vnodes,</span> <span class="pre">n_vnodes1,</span> <span class="pre">n_vnodes2</span></span></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.ntypes">
<span class="sig-name descname"><span class="pre">ntypes</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.ntypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.etypes">
<span class="sig-name descname"><span class="pre">etypes</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.etypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.dataset_names">
<span class="sig-name descname"><span class="pre">dataset_names</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.dataset_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DataPair</span><span class="p">([</span><span class="n">features1</span><span class="p">,</span> <span class="n">features2</span><span class="p">],</span>
<span class="gp">... </span>         <span class="p">[</span><span class="n">ov_adj1</span><span class="p">,</span> <span class="n">ov_adj2</span><span class="p">],</span>
<span class="gp">... </span>         <span class="n">vv_adj</span> <span class="o">=</span> <span class="n">vv_adj</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">varnames_node</span> <span class="o">=</span> <span class="p">[</span><span class="n">vnodes1</span><span class="p">,</span> <span class="n">vnodes2</span><span class="p">],</span>
<span class="gp">... </span>         <span class="n">obs_dfs</span> <span class="o">=</span> <span class="p">[</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span>
<span class="gp">... </span>         <span class="n">dataset_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;reference&#39;</span><span class="p">,</span> <span class="s1">&#39;query&#39;</span><span class="p">],</span>
<span class="gp">... </span>         <span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.DEFAULT_ETYPES">
<span class="sig-name descname"><span class="pre">DEFAULT_ETYPES</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'oo':</span> <span class="pre">'similar_to',</span> <span class="pre">'ov':</span> <span class="pre">'express',</span> <span class="pre">'vo':</span> <span class="pre">'expressed_by',</span> <span class="pre">'vv':</span> <span class="pre">'homolog_with'}</span></em><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.DEFAULT_ETYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.DEFAULT_NTYPES">
<span class="sig-name descname"><span class="pre">DEFAULT_NTYPES</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'o':</span> <span class="pre">'cell',</span> <span class="pre">'v':</span> <span class="pre">'gene'}</span></em><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.DEFAULT_NTYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.KEY_DATASET">
<span class="sig-name descname"><span class="pre">KEY_DATASET</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'dataset'</span></em><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.KEY_DATASET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.KEY_OBSNAME">
<span class="sig-name descname"><span class="pre">KEY_OBSNAME</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'original_name'</span></em><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.KEY_OBSNAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.KEY_VARNAME">
<span class="sig-name descname"><span class="pre">KEY_VARNAME</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'name'</span></em><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.KEY_VARNAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.classes">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">classes</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_feature_dict">
<span class="sig-name descname"><span class="pre">get_feature_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_feature_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_obs_anno">
<span class="sig-name descname"><span class="pre">get_obs_anno</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_obs_anno" title="Permalink to this definition">¶</a></dt>
<dd><p>get the annotations of samples (observations)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_obs_dataset">
<span class="sig-name descname"><span class="pre">get_obs_dataset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_obs_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_obs_features">
<span class="sig-name descname"><span class="pre">get_obs_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-</span> <span class="pre">3,</span> <span class="pre">3.5)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_obs_features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_obs_ids">
<span class="sig-name descname"><span class="pre">get_obs_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_obs_ids" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>get node indices for obs-nodes (samples), choices are:</dt><dd><ol class="arabic simple">
<li><p>all the node ids (by <cite>which=None</cite>)</p></li>
<li><p>only the ids of the “reference” data (by <cite>which=0</cite>)</p></li>
<li><p>only the ids of the “query” data (by <cite>which=1</cite>)</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_obs_labels">
<span class="sig-name descname"><span class="pre">get_obs_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_use</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_unknown_force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_obs_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>make labels for model training</p>
<p>If <cite>categories</cite> is provided, the labels will be coded according to it,
and the names not in <cite>categories</cite> will be NA or <a href="#id9"><span class="problematic" id="id10">`</span></a>name_unknown`(‘unknown’)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_vnode_ids">
<span class="sig-name descname"><span class="pre">get_vnode_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">astensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_vnode_ids" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>get node indices for var-nodes, choices are:</dt><dd><ol class="arabic simple">
<li><p>all the node ids</p></li>
<li><p>only the ids of the “reference” data (by <cite>which=0</cite>)</p></li>
<li><p>only the ids of the “query” data (by <cite>which=1</cite>)</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_vnode_ids_by_name">
<span class="sig-name descname"><span class="pre">get_vnode_ids_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unseen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_vnode_ids_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>looking-up var-node indices for the given names</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_vnode_names">
<span class="sig-name descname"><span class="pre">get_vnode_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vnode_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_vnode_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.get_whole_net">
<span class="sig-name descname"><span class="pre">get_whole_net</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rebuild</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.get_whole_net" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.labels">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">labels</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.make_ov_adj">
<span class="sig-name descname"><span class="pre">make_ov_adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link2ord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.make_ov_adj" title="Permalink to this definition">¶</a></dt>
<dd><p>observation-variable bipartite network</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.make_whole_net">
<span class="sig-name descname"><span class="pre">make_whole_net</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link2ord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selfloop_o</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selfloop_v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.make_whole_net" title="Permalink to this definition">¶</a></dt>
<dd><p>make the whole hetero-graph (e.g. cell-gene graph)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.obs_ids">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">obs_ids</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.obs_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.obs_ids1">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">obs_ids1</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.obs_ids1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.obs_ids2">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">obs_ids2</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.obs_ids2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.save_init">
<span class="sig-name descname"><span class="pre">save_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'datapair_init.pickle'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.save_init" title="Permalink to this definition">¶</a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">adpair</span><span class="o">.</span><span class="n">save_init</span><span class="p">(</span><span class="s1">&#39;datapair_init.pickle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">element_dict</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;datapair_init.pickle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">adpair</span> <span class="o">=</span> <span class="n">DataPair</span><span class="p">(</span><span class="o">**</span><span class="n">element_dict</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_common_obs_annos">
<span class="sig-name descname"><span class="pre">set_common_obs_annos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwannos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_common_obs_annos" title="Permalink to this definition">¶</a></dt>
<dd><p>Shared and merged annotation labels for ALL of the observations in both
datasets. (self.obs, pd.DataFrame)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_dataset_names">
<span class="sig-name descname"><span class="pre">set_dataset_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_dataset_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_etypes">
<span class="sig-name descname"><span class="pre">set_etypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">etypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_etypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_features">
<span class="sig-name descname"><span class="pre">set_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames_feat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_features" title="Permalink to this definition">¶</a></dt>
<dd><p>setting feature matrices, where features are aligned across datasets.
varnames_feat:</p>
<blockquote>
<div><p>if provided, should be a sequence of two name-lists</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_ntypes">
<span class="sig-name descname"><span class="pre">set_ntypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ntypes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_ntypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_obs_dfs">
<span class="sig-name descname"><span class="pre">set_obs_dfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_obs_dfs" title="Permalink to this definition">¶</a></dt>
<dd><p>private observation annotaions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_oo_adj">
<span class="sig-name descname"><span class="pre">set_oo_adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oo_adjs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_oo_adj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_ov_adj">
<span class="sig-name descname"><span class="pre">set_ov_adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ov_adjs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_ov_adj" title="Permalink to this definition">¶</a></dt>
<dd><p>set un-aligned features, for making observation-variable adjacent matrix</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_var_dfs">
<span class="sig-name descname"><span class="pre">set_var_dfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_var_dfs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_vnode_annos">
<span class="sig-name descname"><span class="pre">set_vnode_annos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwannos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_vnode_annos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.set_vv_adj">
<span class="sig-name descname"><span class="pre">set_vv_adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vv_adj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames_node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.set_vv_adj" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>vv_adj:</dt><dd><p>adjacent matrix between variables from these 2 datasets.
e.g. gene-gene network, with each edge connecting each pair of
homologous genes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.summary_graph">
<span class="sig-name descname"><span class="pre">summary_graph</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.summary_graph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.vnode_names1">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">vnode_names1</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.vnode_names1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.DataPair.vnode_names2">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">vnode_names2</span></span><a class="headerlink" href="#CAME.datapair.unaligned.DataPair.vnode_names2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CAME.datapair.unaligned.datapair_from_adatas">
<span class="sig-prename descclassname"><span class="pre">CAME.datapair.unaligned.</span></span><span class="sig-name descname"><span class="pre">datapair_from_adatas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adatas</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">anndata._core.anndata.AnnData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_use</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_varmap</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_varmap_1v1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oo_adjs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.sparse.base.spmatrix</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_as_nodes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">union_node_feats</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_names</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">('reference',</span> <span class="pre">'query')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_single_vnodes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#CAME.datapair.unaligned.DataPair" title="CAME.datapair.unaligned.DataPair"><span class="pre">CAME.datapair.unaligned.DataPair</span></a></span></span><a class="headerlink" href="#CAME.datapair.unaligned.datapair_from_adatas" title="Permalink to this definition">¶</a></dt>
<dd><p>adatas: a list or tuple of 2 sc.AnnData object.</p>
<dl class="simple">
<dt>vars_use: a list or tuple of 2 variable name-lists.</dt><dd><p>for example, differentail expressed genes, highly variable features.</p>
</dd>
<dt>df_varmap: pd.DataFrame with 2 columns.</dt><dd><p>relationships between features in 2 datasets, for making the
adjacent matrix (<cite>vv_adj</cite>) between variables from these 2 datasets.</p>
</dd>
<dt>df_varmap_1v1: None, pd.DataFrame; optional.</dt><dd><p>dataframe containing only 1-to-1 correspondance between features
in 2 datasets, if not provided, it will be inferred from <cite>df_varmap</cite></p>
</dd>
</dl>
<p>oo_adjs: a sequence of (sparse) adjacent matrices of observations.</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>datapair_from_adatas([adata1, adata2],</dt><dd><p>vars_use = [hvgs1, hvgs2],
df_varmap = homo_gene_matches,
dataset_names = [‘reference’, ‘query’])</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-CAME.datapair">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-CAME.datapair" title="Permalink to this headline">¶</a></h2>
<p>Created on Sun Dec 27 21:59:44 2020</p>
<p>&#64;author: Xingyan Liu</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="CAME.model.html" class="btn btn-neutral float-right" title="CAME.model package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="CAME.html" class="btn btn-neutral float-left" title="CAME package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Academy of Mathematics and Systems Science, CAS.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>